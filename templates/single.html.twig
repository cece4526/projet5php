{% extends "base.html.twig" %}
{% block title %}Article{% endblock %}
{% block content %}
<div class="text-center"><a class="margin bouton4" href="../public/index.php">Accueil</a></div>
<article class="card_home_border card_home_width card_home_color">
    <h2>{{ article.getTitle() }}</h2>
    <p>{{ article.getContent()|striptags }}</p>
    <p>{{ article.getAuthor() }}</p>
    <p>{{ article.getCreatedAt() }}</p>
</article>
{% if session.get('role') == 'admin' %}
<div class="actions">
    <a class="bouton4" href="../public/index.php?route=editArticle&articleId={{ article.getId() }}">Modifier</a>
    <a class="bouton4" href="../public/index.php?route=deleteArticle&articleId={{ article.getId() }}">Supprimer</a>
</div>
{% endif %}

<div id="comments" class="text-left" style="margin-left: 50px;">
    {% if session.get('role') is not null %}
    <h3>Ajouter un commentaire</h3>
    {% include 'form_comment.html.twig' %}
    {% endif %}
    <h3>Commentaires</h3>
    {% for comment in allComments %}
    {% if comment.getStatus() == 1 and comment.isFlag() == 0 %}
    <div class="card_home_border card_home_color">
        <h4>{{ comment.getAuthor() }}</h4>
        <p>{{ comment.getContent() }}</p>
        <p>Post√© le {{ comment.getCreatedAt() }}</p>
        {% if comment.isFlag() %}
        {% endif %}
    </div>
    {% endif %}
    {% endfor %}
</div>
<a class="margin bouton4" href="../public/index.php">Accueil</a>
{% endblock %}

